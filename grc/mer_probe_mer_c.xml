<?xml version="1.0"?>
<block>
  <name>Probe Modulation Error Ratio</name>
  <key>mer_probe_mer_c</key>
  <category>mer</category>
  <import>import mer</import>
  <make>mer.probe_mer_c($symbol_table,$alpha)</make>
  <param>
	<name>Symbol Table</name>
	<key>symbol_table</key>
	<type>complex_vector</type>
  </param>
  <param>
	<name>Alpha</name>
	<key>alpha</key>
	<type>float</type>
  </param>
  <sink>
    <name>in</name>
    <type>complex</type>
  </sink>
  <source>
    <name>mer</name>
    <type>float</type>
  </source>

  <source>
    <name>mer_msg</name>
    <type>message</type>
    <optional>1</optional>
  </source>
  
 <doc>
	Recieves the symbol table and the filter parameter alpha.
	MODULATION ERROR RATE - MER
 	Lets I[i],Q[i] the sample i received and I_{true}[i] and Q_{true}[i] the corresponding constellation point
 	MER is defined as: lets  txsignal_power[i] = I^2_{true][i] + Q^2_{true}[i] and error_power[i]= (I_{true][i]-I[i])^2 + (Q_{true}[i]- Q[i])^2
 	and lets d_avgtxsignal_power = average{txsignal_power[i]} and d_avgerror_power = average{error_power[i]}
 	MER = 10*log10(d_avgtxsignal_power/ d_avgerror_power) in dbs
 	Averaging is implemented with a first order IIR filter with parameter d_alpha
  </doc>
</block>
